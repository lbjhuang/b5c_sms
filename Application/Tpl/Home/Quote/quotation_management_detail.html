<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./Application/Tpl/Home/Public/css/normailize.css?v=<{$Think.config.VER_NUM}>">
    <link rel="stylesheet" href="./Application/Tpl/Home/Public/css/element-ui-2.2.css?v=<{$Think.const.V}>">
    <link rel="stylesheet" href="./Application/Tpl/Home/Public/css/default.css?v=<{$Think.const.V}>">
    <title>报价详情</title>
    <style>
        body{
            padding: 20px;
        }
        .quotation_management_detail .el-tabs__nav-wrap::after, .el-tabs__active-bar {
            height: 0;
        }

        .quotation_management_detail .el-tabs__nav div {
            font-size: 26px;
            font-weight: 600;
        }
        .quotation_management_detail .el-input{
            width: 100%;
        }
        .quotation_management_detail .el-select{
            width: 100%;
        }
        [v-cloak] {
            display: none;
        }
        .main-basic-info{
            margin-bottom: 20px;
        }
        .main-basic-info .header{
            font-size: 16px;
            line-height: 40px;
            height: 40px;
            padding-left: 20px;
            text-align: left;
            letter-spacing: 0;
            color: #fff;
            background: #546e7a;
        }
        .main-basic-info .entry-info{
            width: 100%;
            text-align: center;
            border-left: 1px solid #E0E0E0;
            border-bottom: 1px solid #E0E0E0;
            font-size: 15px;
        }
        .main-basic-info .entry-info .disabled-active{
            background: #9c9c9c;
        }
        .main-basic-info .entry-info .disabled-active .el-input.is-disabled .el-input__inner{
            background: #9c9c9c;
        }
        .main-basic-info .entry-info .select-disabled .el-input.is-disabled .el-input__inner{
            background: #ffffff;
        }
        .main-basic-info .entry-info tr td {
            border-right: 1px solid #E0E0E0;
            border-top: 1px solid #E0E0E0;
            padding: 10px 15px;
            font-size: 14px;
        }
        .main-basic-info .report-box {
            border: 1px solid #E0E0E0;
            padding: 20px 10px;
        }
        .file-btn-box{
            float: right;
            padding-right: 50px;
            display: flex;
            height: 100%;
            align-items: center;
        }
        .sku-search-box{
            display: inline-block;
            width: 200px;
        }
        .file-btn-box .file_type{
            display: block;
            text-decoration: none;
            color: #606266;
            height: 32px;
            line-height: 32px;
            padding: 0 15px;
            margin-right: 10px;
            border-radius: 3px;
            background: #ffffff;
            font-size: 12px;
        }
        .required::after{
            content: "*";
            color:red;
            margin-left: 5px;
        }
        .operating-btn-box{
            text-align: center;
        }
        .no-data-table{
            text-align: center;
            color: #999999;
            line-height: 40px;
            border: 1px solid #E0E0E0;
            border-top: none;
        }
        .templateTable .el-input--suffix .el-input__inner{
            padding-right: 20px;
        }
        .page-box{
            text-align: right;
        }
        .submit-confirmation{
            text-align: center;
        }
        .submit-confirmation .submit-confirmation-title{
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 40px;
        }
    </style>
</head>
<body>
    <div class="quotation_management_detail" id="anagementDetail" v-if="detail" v-cloak v-loading="detailLoading">
        <el-tabs v-model="activeName">
            <el-tab-pane :label="$lang('报价详情')" name="first">
                <!-- 正式报价 -->
                <div class="main-basic-info" v-if="detail.quotation.quote_type == '1'">
                    <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                        <tbody>
                        <tr>
                            <td>{{$lang('报价单号')}}</td>
                            <td>{{detail.quotation.quote_no}}</td>
                            <td>{{$lang('报价责任人')}}</td>
                            <td>{{detail.quotation.director_by}}</td>
                        </tr>
                        <tr>
                            <td>{{$lang('报价发起人')}}</td>
                            <td>{{detail.quotation.created_by}}</td>
                            <td>{{$lang('报价类型')}}</td>
                            <td>{{$lang('正常报价')}}</td>
                        </tr>
                        <tr>
                            <td>{{$lang('报价要求完成时间')}}</td>
                            <td>{{detail.quotation.require_complete_date}}</td>
                            <td>{{$lang('销售团队')}}</td>
                            <td>{{detail.quotation.allo_out_team_val}}</td>
                        </tr>
                        <tr>
                            <td>{{$lang('关联调拨单号')}}</td>
                            <td>{{detail.quotation.allo_nos}}</td>
                            <td>{{$lang('销售小团队')}}</td>
                            <td>{{detail.quotation.small_team_cd_val}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <!-- 提前报价 -->
                <div class="main-basic-info" v-if="detail.quotation.quote_type == '2'">
                    <div class="header">
                        {{$lang('报价信息')}}
                    </div>
                    <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                        <tbody>
                        <tr>
                            <td>{{$lang('报价发起人')}}</td>
                            <td>{{detail.quotation.created_by}}</td>
                            <td>{{$lang('报价发起时间')}}</td>
                            <td>{{detail.quotation.created_at}}</td>
                        </tr>
                        <tr>
                            <td>{{$lang('报价结束时间')}}</td>
                            <td>{{detail.quotation.complete_date}}</td>
                            <td>{{$lang('报价责任人')}}</td>
                            <td>{{detail.quotation.director_by}}</td>
                        </tr>
                        <tr>
                            <td>{{$lang('销售小团队')}}</td>
                            <td>{{detail.quotation.small_team_cd_val}}</td>
                            <td>{{$lang('报价要求完成时间')}}</td>
                            <td>{{detail.quotation.require_complete_date}}</td>
                        </tr>
                        <tr>
                            <td>{{$lang('报价意向')}}</td>
                            <td>{{detail.quotation.quote_intention_type_name}}</td>
                            <td>{{$lang('报价类型')}}</td>
                            <td>{{detail.quotation.quote_type_name}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="main-basic-info">
                    <div class="header">
                        {{$lang('商品信息')}}
                        <!-- 提前报价可搜索商品 -->
                        <div class="sku-search-box" v-if="detail.quotation.quote_type == '2' && detail.quotation.status_cd == 'N003580001'">
                            <el-input placeholder="请输入SKU" v-model="sku_id" size="small">
                                <el-button slot="append" icon="el-icon-search" @click="skuSearch"></el-button>
                            </el-input>
                        </div>
                        <!-- 提前报价需导入商品 -->
                        <div class="file-btn-box" v-if="detail.quotation.quote_type == '2' && detail.quotation.status_cd == 'N003580001'">
                            <a class="file_type" href="/index.php?m=quote&a=excelDownload">{{$lang('EXCEL模板下载')}}</a>
                            <el-button type="default" size="small" @click="upload" v-loading="uploadLoading">{{$lang('EXCEL导入')}}</el-button>
                            <input type="file" id="fileInput" style="display: none;" @change="uploadFile">
                        </div>
                    </div>
                    <div v-loading="uploadLoading">
                        <table class="entry-info" border="0" cellpadding="0" cellspacing="0" >
                            <tbody>
                            <tr>
                                <td>{{$lang('序号')}}</td>
                                <td>{{$lang('SKU编号')}}</td>
                                <td>{{$lang('商品名称')}}</td>
                                <td>{{$lang('数量')}}</td>
                                <td>{{$lang('操作')}}</td>
                            </tr>
                            <tr v-for="(item,index) in detail.goods">
                                <td>{{index + 1}}</td>
                                <td>{{item.sku_id}}</td>
                                <td>{{item.good_name}}</td>
                                <td>
                                    <span v-show="!item.is_search">{{item.good_number}}</span>
                                    <span v-show="detail.quotation.quote_type == '2' && item.is_search">
                                        <el-input v-model="item.good_number" size="small" @input="goodNumberChange"></el-input>
                                    </span>
                                </td>
                                <td>
                                    <el-button v-if="detail.quotation.quote_type == '2' && detail.quotation.status_cd == 'N003580001'" type="default" size="small" @click="goodsDetail(index)">{{$lang('删除')}}</el-button>
                                </td>
                            </tr>
                            <!-- 提前报价商品数量展示合计 -->
                            <tr v-if="detail.goods.length > 0 && detail.quotation.quote_type == '2'">
                                <td>{{$lang('合计')}}</td>
                                <td></td>
                                <td></td>
                                <td>{{goodsSum}}</td>
                                <td></td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="no-data-table" v-if="detail.goods.length == 0">{{$lang('暂无数据')}}</div>
                    </div>
                    
                </div>
                <div class="main-basic-info">
                    <div class="header">
                        {{$lang('询价信息')}}
                    </div>
                    <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                        <tbody>
                        <tr>
                            <td>{{$lang('偏好运输公司')}}</td>
                            <td>
                                <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="detail.inquiry.transport_supplier_id" :placeholder="$lang('请选择偏好运输公司')" clearable>
                                    <el-option v-for="(item,index) in logisticsSupplier" :key="index" :label="$lang(item.SP_RES_NAME_EN)" :value="index"></el-option>
                                </el-select>
                            </td>
                            <td>{{$lang('计划运输渠道')}}<span class="required"></span></td>
                            <td>
                                <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="detail.inquiry.planned_transportation_channel_cd" :placeholder="$lang('请选择计划运输渠道')" clearable>
                                    <el-option v-for="(item,index) in planned_transportation_channel_cds" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                </el-select>
                            </td>
                        </tr>
                        <tr>
                            <td>{{$lang('报价意向')}}</td>
                            <td>{{detail.quotation.quote_intention_type_name}}</td>
                            <td>{{$lang('期望出库日期')}}<span class="required"></span></td>
                            <td>
                                <el-date-picker id="expected_delivery_date" :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="detail.inquiry.expected_delivery_date" type="date" :placeholder="$lang('请选择时间')" value-format="yyyy-MM-dd" :picker-options="pickerOptions" @change="deliveryChange"></el-date-picker>
                            </td>
                        </tr>
                        <tr>
                            <td>{{$lang('期望入库日期')}}<span class="required"></span></td>
                            <td>
                                <el-date-picker id="expected_warehousing_date" v-model="detail.inquiry.expected_warehousing_date" :disabled="!detail.inquiry.expected_delivery_date || detail.quotation.status_cd !== 'N003580001'" type="date" :placeholder="$lang('请选择时间')" value-format="yyyy-MM-dd" :picker-options="expectedPickerOptions"></el-date-picker>
                            </td>
                            <td></td>
                            <td></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="main-basic-info">
                    <div class="header">
                        {{$lang('装箱信息')}}
                    </div>
                    <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                        <tbody>
                        <tr>
                            <!-- 正式报价显示 -->
                            <td v-if="detail.quotation.quote_type == '1'">{{$lang('调拨单号')}}</td>
                            <td>{{$lang('总箱数（箱）')}}<span v-if="detail.quotation.quote_type == '2'" class="required"></span></td>
                            <td>{{$lang('总体积（立方米）')}}<span v-if="detail.quotation.quote_type == '2'" class="required"></span></td>
                            <td>{{$lang('总重量（千克）')}}<span v-if="detail.quotation.quote_type == '2'" class="required"></span></td>
                            <td>{{$lang('调出仓库')}}<span class="required"></span></td>
                            <td>{{$lang('调入仓库')}}<span class="required"></span></td>
                            <td>{{$lang('报关方式')}}<span class="required"></span></td>
                            <td>{{$lang('带电')}}<span class="required"></span></td>
                        </tr>
                        <tr v-for="(item,index) in detail.packing_info" :key="index">
                            <!-- 正式报价显示 -->
                            <td v-if="detail.quotation.quote_type == '1'">{{item.allo_no}}</td>
                            <td style="min-width: 120px;">
                                <!-- 提前报价显示输入框，正式报价展示值 -->
                                <el-input v-if="detail.quotation.quote_type == '2'" :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="item.total_box_num" type="number" :placeholder="$lang('请输入总箱数')"></el-input>
                                <span v-else>{{item.total_box_num}}</span>
                            </td>
                            <td style="min-width: 120px;">
                                <el-input v-if="detail.quotation.quote_type == '2'" :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="item.total_volume" type="number" :placeholder="$lang('请输入总体积')"></el-input>
                                <span v-else>{{item.total_volume}}</span>
                            </td>
                            <td style="min-width: 120px;">
                                <el-input v-if="detail.quotation.quote_type == '2'" :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="item.total_weight" type="number" :placeholder="$lang('请输入总重量')"></el-input> 
                                <span v-else>{{item.total_weight}}</span>
                            </td>
                            <td>
                                <div style="display: flex;">
                                    <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580001' || detail.quotation.quote_type == '1'" v-model="item.allo_out_warehouse" :placeholder="$lang('请选择调出仓库')" @change="alloOutChange($event,index)" clearable>
                                        <el-option v-for="(item,index) in warehouses" :label="$lang(item.CD_VAL)" :value="item.CD" :key="index"></el-option>
                                    </el-select>
                                    <el-input :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="item.allo_out_warehouse_address" :placeholder="$lang('请输入仓库地址')"></el-input> 
                                </div>
                            </td>
                            <td>
                                <div style="display: flex;">
                                    <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580001' || detail.quotation.quote_type == '1'" v-model="item.allo_in_warehouse" :placeholder="$lang('请选择调入仓库')" @change="alloChange($event,index)" clearable>
                                        <el-option v-for="(item,index) in warehouses" :label="$lang(item.CD_VAL)" :value="item.CD" :key="index"></el-option>
                                    </el-select>
                                    <el-input :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="item.allo_in_warehouse_address" :placeholder="$lang('请输入仓库地址')"></el-input> 
                                </div>
                                
                            </td>
                            <td>
                                <div style="display: flex;">
                                    <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="item.declare_type_cd" :placeholder="$lang('请选择报关方式')" @change="declareChange($event,index)" clearable>
                                        <el-option v-for="(item,index) in declareType":label="$lang(item)" :value="index" :key="index"></el-option>
                                    </el-select>
                                    <el-input :disabled="detail.quotation.status_cd !== 'N003580001'" v-if="item.declare_type_cd == 'N003550002'" v-model="item.declare_type_remark" :placeholder="$lang('备注')"></el-input>
                                </div> 
                            </td>
                            <td>
                                <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580001'" v-model="item.is_electric_cd" :placeholder="$lang('请选择是否带电')" clearable>
                                    <el-option v-for="(item,index) in isElectric" :label="$lang(item)" :value="index" :key="index"></el-option>
                                </el-select>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="main-basic-info">
                    <div class="header">
                        {{$lang('报价要求备注')}}
                    </div>
                    <div class="report-box">
                        <el-input type="textarea" :disabled="detail.quotation.status_cd !== 'N003580001'" :placeholder="$lang('添加备注')" v-model="detail.quotation.operate_remark" :maxlength="100" show-word-limit :rows="4">
                    </div>
                </div>
                <!-- 非二次报价 -->
                <div class="select-template-btn" v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '0'">
                    <el-popover placement="bottom" width="200" v-model="templateVisible" trigger="click">
                        <div>
                            <el-radio v-model="templateRadio" @change="templateRadioChange" label="1">{{$lang('整柜')}}</el-radio>
                        </div>
                        <div>
                            <el-radio v-model="templateRadio" @change="templateRadioChange" label="2">{{$lang('散货')}}</el-radio>
                        </div>
                        <div>
                            <el-radio v-model="templateRadio" @change="templateRadioChange" label="3">{{$lang('整柜 + 散货')}}</el-radio>
                        </div>
                        <el-button slot="reference">{{$lang('选择报价模板')}}</el-button>
                    </el-popover>
                </div>
                <div class="main-basic-info" v-if="detail.quotation.status_cd == 'N003580002' || detail.quotation.status_cd == 'N003580003' || detail.quotation.status_cd == 'N003580004'">
                    <div class="templateTable" v-if="templateRadio == 1 || programOne">
                        <div class="header">
                            {{$lang('报价信息')}}--{{$lang('整柜')}}
                        </div>
                        <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                            <tbody>
                            <tr>
                                <td style="min-width: 60px;">{{$lang('方案')}}</td>
                                <td>{{$lang('运输公司')}}<span class="required"></span></td>
                                <td>{{$lang('运输渠道')}}<span class="required"></span></td>
                                <td>{{$lang('物流费用')}}<span class="required"></span></td>
                                <td>{{$lang('保险费用')}}<span class="required"></span></td>
                                <td>{{$lang('预计费用')}}<span class="required"></span></td>
                                <td>{{$lang('出库时间')}}<span class="required"></span></td>
                                <td>{{$lang('航行时间')}}<span class="required"></span></td>
                                <td style="min-width: 60px;">{{$lang('装柜类型')}}</td>
                                <td>{{$lang('备注')}}</td>
                                <td style="min-width: 80px;" v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '0'">{{$lang('操作')}}</td>
                            </tr>
                            <tr v-for="(item,index) in detail.quotation_schemes" :key="index" v-if="item.scheme_type == '1'" :class="{'disabled-active': detail.quotation.status_cd == 'N003580004' && item.audit_status != '2','select-disabled': detail.quotation.status_cd == 'N003580004' && item.audit_status == '2'}">
                                <td>
                                    {{index + 1}}
                                </td>
                                <td>
                                    <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].transport_supplier_id" :placeholder="$lang('请选择')" clearable>
                                        <el-option v-for="(item,index) in logisticsSupplier" :key="index" :label="$lang(item.SP_RES_NAME_EN)" :value="index"></el-option>
                                    </el-select>
                                </td>
                                <td>
                                    <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].transportation_channel_cd" :placeholder="$lang('请选择')" clearable>
                                        <el-option v-for="(item,index) in planned_transportation_channel_cds" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                    </el-select>
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].logistics_currency_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].logistics_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div>
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].insurance_currency_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].insurance_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div>
                                    
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].predict_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].predict_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div> 
                                </td>
                                <td>
                                    <el-date-picker :id="'delivery_date' + index" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].delivery_date" value-format="yyyy-MM-dd" type="date" :placeholder="$lang('请选择')" ></el-date-picker>
                                </td>
                                <td>
                                    <el-date-picker :id="'hours_underway_date' + index" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].hours_underway_date" value-format="yyyy-MM-dd" type="date" :placeholder="$lang('请选择')" ></el-date-picker>
                                </td>
                                <td>{{$lang('整柜')}}</td>
                                <td>
                                    <el-input type="textarea" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" :placeholder="$lang('添加备注')" v-model="item.scheme_detail[0].remark" :maxlength="100" :rows="1">
                                </td>
                                <td v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '0'">
                                    <i class="el-icon-plus" style="font-size: 26px;font-weight: 900;cursor: pointer;" @click="add"></i>
                                    <i class="el-icon-minus" style="font-size: 26px;font-weight: 900;cursor: pointer;" @click="minus(index)"></i>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="templateTable" v-if="templateRadio == 2 || programTwo">
                        <div class="header">
                            {{$lang('报价信息')}}--{{$lang('散货')}}
                        </div>
                        <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                            <tbody>
                            <tr>
                                <td style="min-width: 60px;">{{$lang('方案')}}</td>
                                <td>{{$lang('运输公司')}}<span class="required"></span></td>
                                <td>{{$lang('运输渠道')}}<span class="required"></span></td>
                                <td>{{$lang('物流费用')}}<span class="required"></span></td>
                                <td>{{$lang('保险费用')}}<span class="required"></span></td>
                                <td>{{$lang('预计费用')}}<span class="required"></span></td>
                                <td>{{$lang('出库时间')}}<span class="required"></span></td>
                                <td>{{$lang('航行时间')}}<span class="required"></span></td>
                                <td style="min-width: 60px;">{{$lang('装柜类型')}}</td>
                                <td>{{$lang('备注')}}</td>
                                <td style="min-width: 80px;" v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '0'">{{$lang('操作')}}</td>
                            </tr>
                            <tr v-for="(item,index) in detail.quotation_schemes" :key="index" v-if="item.scheme_type == '2'" :class="{'disabled-active': detail.quotation.status_cd == 'N003580004' && item.audit_status != '2','select-disabled': detail.quotation.status_cd == 'N003580004' && item.audit_status == '2'}">
                                <td>
                                    {{index + 1}}
                                </td>
                                <td>
                                    <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].transport_supplier_id" :placeholder="$lang('请选择')" clearable>
                                        <el-option v-for="(item,index) in logisticsSupplier" :key="index" :label="$lang(item.SP_RES_NAME_EN)" :value="index"></el-option>
                                    </el-select>
                                </td>
                                <td>
                                    <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].transportation_channel_cd" :placeholder="$lang('请选择')" clearable>
                                        <el-option v-for="(item,index) in planned_transportation_channel_cds" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                    </el-select>
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].logistics_currency_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].logistics_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div>
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].insurance_currency_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].insurance_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div>
                                    
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].predict_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].predict_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div> 
                                </td>
                                <td>
                                    <el-date-picker :id="'delivery_date' + index" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].delivery_date" value-format="yyyy-MM-dd" type="date" :placeholder="$lang('请选择')" ></el-date-picker>
                                </td>
                                <td>
                                    <el-date-picker :id="'hours_underway_date' + index" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.scheme_detail[0].hours_underway_date" value-format="yyyy-MM-dd" type="date" :placeholder="$lang('请选择')" ></el-date-picker>
                                </td>
                                <td>{{$lang('散货')}}</td>
                                <td>
                                    <el-input type="textarea" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" :placeholder="$lang('添加备注')" v-model="item.scheme_detail[0].remark" :maxlength="100" :rows="1">
                                </td>
                                <td v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '0'">
                                    <i class="el-icon-plus" style="font-size: 26px;font-weight: 900;cursor: pointer;" @click="add"></i>
                                    <i class="el-icon-minus" style="font-size: 26px;font-weight: 900;cursor: pointer;" @click="minus(index)"></i>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="templateTable" v-if="templateRadio == 3 || programThree">
                        <div v-for="(schemes,index) in detail.quotation_schemes" :key="index" v-if="schemes.scheme_type == '3'">
                            <div class="header">
                                {{$lang('报价信息')}}-
                                {{$lang('方案')}}
                                {{index + 1}}--
                                {{$lang('散货')}}+
                                {{$lang('整柜')}}
                                <div class="file-btn-box" v-if="detail.quotation.status_cd == 'N003580002' &&  detail.quotation.is_twice_quote == '0'">
                                    <el-button size="small" type="default" @click="add" v-if="index == 0">{{$lang('添加方案')}}</el-button>
                                    <i class="el-icon-delete" style="font-size: 24px;cursor: pointer;" v-if="index > 0" @click="minus(index)"></i>
                                </div>
                            </div>
                            <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                                <tbody>
                                <tr :class="{'disabled-active': detail.quotation.status_cd == 'N003580004' && schemes.audit_status != '2','select-disabled': detail.quotation.status_cd == 'N003580004' && schemes.audit_status == '2'}">
                                    <td style="min-width: 40px;">{{$lang('序号')}}</td>
                                    <td>{{$lang('运输公司')}}<span class="required"></span></td>
                                    <td>{{$lang('运输渠道')}}<span class="required"></span></td>
                                    <td>{{$lang('物流费用')}}<span class="required"></span></td>
                                    <td>{{$lang('保险费用')}}<span class="required"></span></td>
                                    <td>{{$lang('预计费用')}}<span class="required"></span></td>
                                    <td>{{$lang('出库时间')}}<span class="required"></span></td>
                                    <td>{{$lang('航行时间')}}<span class="required"></span></td>
                                    <td style="min-width: 60px;">{{$lang('装柜类型')}}<span class="required"></span></td>
                                    <td>{{$lang('备注')}}</td>
                                    <td style="min-width: 80px;" v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '0'">{{$lang('操作')}}</td>
                                </tr>
                                <tr v-for="(item,key) in schemes.scheme_detail" :key="key" :class="{'disabled-active': detail.quotation.status_cd == 'N003580004' && schemes.audit_status != '2','select-disabled': detail.quotation.status_cd == 'N003580004' && schemes.audit_status == '2'}">
                                    <td>
                                        {{key + 1}}
                                    </td>
                                    <td>
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.transport_supplier_id" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in logisticsSupplier" :key="index" :label="$lang(item.SP_RES_NAME_EN)" :value="index"></el-option>
                                        </el-select>
                                    </td>
                                    <td>
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.transportation_channel_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in planned_transportation_channel_cds" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                    </td>
                                    <td>
                                        <div style="display: flex;">
                                            <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.logistics_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                                <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                            </el-select>
                                            <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.logistics_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                        </div>
                                    </td>
                                    <td>
                                        <div style="display: flex;">
                                            <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.insurance_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                                <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                            </el-select>
                                            <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.insurance_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                        </div>
                                        
                                    </td>
                                    <td>
                                        <div style="display: flex;">
                                            <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.predict_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                                <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                            </el-select>
                                            <el-input :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.predict_cost" type="number" :placeholder="$lang('请输入费用')"></el-input>
                                        </div>
                                    </td>
                                    <td>
                                        <el-date-picker :id="'delivery_date' + index + key" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.delivery_date" type="date" value-format="yyyy-MM-dd" :placeholder="$lang('请选择')" ></el-date-picker>
                                    </td>
                                    <td>
                                        <el-date-picker :id="'hours_underway_date' + index + key" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.hours_underway_date" type="date" value-format="yyyy-MM-dd" :placeholder="$lang('请选择')" ></el-date-picker>
                                    </td>
                                    <td>
                                        <el-select filterable :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" v-model="item.stuffing_type_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option :label="$lang('整柜')" value="N003570001"></el-option>
                                            <el-option :label="$lang('散货')" value="N003570002"></el-option>
                                        </el-select>
                                    </td>
                                    <td>
                                        <el-input type="textarea" :disabled="detail.quotation.status_cd !== 'N003580002' || detail.quotation.is_twice_quote == '1'" :placeholder="$lang('添加备注')" v-model="item.remark" :maxlength="100" :rows="1">
                                    </td>
                                    <td v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '0'">
                                        <i @click="detailAdd(index)" class="el-icon-plus" style="font-size: 26px;font-weight: 900;cursor: pointer;"></i>
                                        <i @click="detailMinus(index,key)" class="el-icon-minus" style="font-size: 26px;font-weight: 900;cursor: pointer;"></i>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        
                    </div>
                </div>
                <!-- 二次报价 -->
                <div class="select-template-btn" v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '1'">
                    <el-popover placement="bottom" width="200" v-model="secondTemplateVisible" trigger="click">
                        <div>
                            <el-radio v-model="secondTemplateRadio" @change="secondTemplateRadioChange" label="1">{{$lang('整柜')}}</el-radio>
                        </div>
                        <div>
                            <el-radio v-model="secondTemplateRadio" @change="secondTemplateRadioChange" label="2">{{$lang('散货')}}</el-radio>
                        </div>
                        <div>
                            <el-radio v-model="secondTemplateRadio" @change="secondTemplateRadioChange" label="3">{{$lang('整柜 + 散货')}}</el-radio>
                        </div>
                        <el-button slot="reference">{{$lang('选择报价模板')}}</el-button>
                    </el-popover>
                </div>
                <div class="main-basic-info" v-if="detail.quotation.status_cd == 'N003580002' && detail.quotation.is_twice_quote == '1'">
                    <div class="templateTable" v-if="secondTemplateRadio == 1 || secondTemplateRadio == 2">
                        <div class="header">
                            {{$lang('报价信息')}}--
                            <span v-if="secondTemplateRadio == 1">{{$lang('整柜')}}</span>
                            <span v-if="secondTemplateRadio == 2">{{$lang('散货')}}</span>
                        </div>
                        <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                            <tbody>
                            <tr>
                                <td style="min-width: 60px;">{{$lang('方案')}}</td>
                                <td>{{$lang('运输公司')}}<span class="required"></span></td>
                                <td>{{$lang('运输渠道')}}<span class="required"></span></td>
                                <td>{{$lang('物流费用')}}<span class="required"></span></td>
                                <td>{{$lang('保险费用')}}<span class="required"></span></td>
                                <td>{{$lang('预计费用')}}<span class="required"></span></td>
                                <td>{{$lang('出库时间')}}<span class="required"></span></td>
                                <td>{{$lang('航行时间')}}<span class="required"></span></td>
                                <td style="min-width: 60px;">{{$lang('装柜类型')}}</td>
                                <td>{{$lang('备注')}}</td>
                                <td style="min-width: 80px;">{{$lang('操作')}}</td>
                            </tr>
                            <tr v-for="(item,index) in quotationSchemes" :key="index">
                                <td>
                                    {{index + 1}}
                                </td>
                                <td>
                                    <el-select filterable v-model="item.scheme_detail[0].transport_supplier_id" :placeholder="$lang('请选择')" clearable>
                                        <el-option v-for="(item,index) in logisticsSupplier" :key="index" :label="$lang(item.SP_RES_NAME_EN)" :value="index"></el-option>
                                    </el-select>
                                </td>
                                <td>
                                    <el-select filterable v-model="item.scheme_detail[0].transportation_channel_cd" :placeholder="$lang('请选择')" clearable>
                                        <el-option v-for="(item,index) in planned_transportation_channel_cds" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                    </el-select>
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable v-model="item.scheme_detail[0].logistics_currency_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input v-model="item.scheme_detail[0].logistics_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div>
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable v-model="item.scheme_detail[0].insurance_currency_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input v-model="item.scheme_detail[0].insurance_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div>
                                    
                                </td>
                                <td>
                                    <div style="display: flex;">
                                        <el-select filterable v-model="item.scheme_detail[0].predict_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                            <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                        <el-input v-model="item.scheme_detail[0].predict_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                    </div> 
                                </td>
                                <td>
                                    <el-date-picker :id="'delivery_date' + index" v-model="item.scheme_detail[0].delivery_date" value-format="yyyy-MM-dd" type="date" :placeholder="$lang('请选择')" ></el-date-picker>
                                </td>
                                <td>
                                    <el-date-picker :id="'hours_underway_date' + index" v-model="item.scheme_detail[0].hours_underway_date" value-format="yyyy-MM-dd" type="date" :placeholder="$lang('请选择')" ></el-date-picker>
                                </td>
                                <td>
                                    <span v-if="secondTemplateRadio == 1">{{$lang('整柜')}}</span>
                                    <span v-if="secondTemplateRadio == 2">{{$lang('散货')}}</span>
                                </td>
                                <td>
                                    <el-input type="textarea" :placeholder="$lang('添加备注')" v-model="item.scheme_detail[0].remark" :maxlength="100" :rows="1">
                                </td>
                                <td>
                                    <i class="el-icon-plus" style="font-size: 26px;font-weight: 900;cursor: pointer;" @click="secondAdd"></i>
                                    <i class="el-icon-minus" style="font-size: 26px;font-weight: 900;cursor: pointer;" @click="secondMinus(index)"></i>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="templateTable" v-if="secondTemplateRadio == 3">
                        <div v-for="(schemes,index) in quotationSchemes" :key="index">
                            <div class="header">
                                {{$lang('报价信息')}}-
                                {{$lang('方案')}}
                                {{index + 1}}--
                                {{$lang('散货')}}+
                                {{$lang('整柜')}}
                                <div class="file-btn-box">
                                    <el-button size="small" type="default" @click="secondAdd" v-if="index == 0">{{$lang('添加方案')}}</el-button>
                                    <i class="el-icon-delete" style="font-size: 24px;cursor: pointer;" v-if="index > 0" @click="secondMinus(index)"></i>
                                </div>
                            </div>
                            <table class="entry-info" border="0" cellpadding="0" cellspacing="0">
                                <tbody>
                                <tr>
                                    <td style="min-width: 40px;">{{$lang('序号')}}</td>
                                    <td>{{$lang('运输公司')}}<span class="required"></span></td>
                                    <td>{{$lang('运输渠道')}}<span class="required"></span></td>
                                    <td>{{$lang('物流费用')}}<span class="required"></span></td>
                                    <td>{{$lang('保险费用')}}<span class="required"></span></td>
                                    <td>{{$lang('预计费用')}}<span class="required"></span></td>
                                    <td>{{$lang('出库时间')}}<span class="required"></span></td>
                                    <td>{{$lang('航行时间')}}<span class="required"></span></td>
                                    <td style="min-width: 60px;">{{$lang('装柜类型')}}<span class="required"></span></td>
                                    <td>{{$lang('备注')}}</td>
                                    <td style="min-width: 80px;">{{$lang('操作')}}</td>
                                </tr>
                                <tr v-for="(item,key) in schemes.scheme_detail" :key="key">
                                    <td>
                                        {{key + 1}}
                                    </td>
                                    <td>
                                        <el-select filterable v-model="item.transport_supplier_id" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in logisticsSupplier" :key="index" :label="$lang(item.SP_RES_NAME_EN)" :value="index"></el-option>
                                        </el-select>
                                    </td>
                                    <td>
                                        <el-select filterable v-model="item.transportation_channel_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option v-for="(item,index) in planned_transportation_channel_cds" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                        </el-select>
                                    </td>
                                    <td>
                                        <div style="display: flex;">
                                            <el-select filterable v-model="item.logistics_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                                <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                            </el-select>
                                            <el-input v-model="item.logistics_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                        </div>
                                    </td>
                                    <td>
                                        <div style="display: flex;">
                                            <el-select filterable v-model="item.insurance_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                                <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                            </el-select>
                                            <el-input v-model="item.insurance_cost" type="number" :placeholder="$lang('请输入费用')"></el-input> 
                                        </div>
                                        
                                    </td>
                                    <td>
                                        <div style="display: flex;">
                                            <el-select filterable v-model="item.predict_currency_cd" :placeholder="$lang('请选择币种')" clearable>
                                                <el-option v-for="(item,index) in currency" :key="index" :label="$lang(item.cdVal)" :value="item.cd"></el-option>
                                            </el-select>
                                            <el-input v-model="item.predict_cost" type="number" :placeholder="$lang('请输入费用')"></el-input>
                                        </div>
                                    </td>
                                    <td>
                                        <el-date-picker :id="'delivery_date' + index + key" v-model="item.delivery_date" type="date" value-format="yyyy-MM-dd" :placeholder="$lang('请选择')" ></el-date-picker>
                                    </td>
                                    <td>
                                        <el-date-picker :id="'hours_underway_date' + index + key" v-model="item.hours_underway_date" type="date" value-format="yyyy-MM-dd" :placeholder="$lang('请选择')" ></el-date-picker>
                                    </td>
                                    <td>
                                        <el-select filterable v-model="item.stuffing_type_cd" :placeholder="$lang('请选择')" clearable>
                                            <el-option :label="$lang('整柜')" value="N003570001"></el-option>
                                            <el-option :label="$lang('散货')" value="N003570002"></el-option>
                                        </el-select>
                                    </td>
                                    <td>
                                        <el-input type="textarea" :placeholder="$lang('添加备注')" v-model="item.remark" :maxlength="100" :rows="1">
                                    </td>
                                    <td>
                                        <i @click="secondDetailAdd(index)" class="el-icon-plus" style="font-size: 26px;font-weight: 900;cursor: pointer;"></i>
                                        <i @click="secondDetailAdd(index,key)" class="el-icon-minus" style="font-size: 26px;font-weight: 900;cursor: pointer;"></i>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        
                    </div>
                </div>
                <div class="operating-btn-box" style="padding-bottom: 130px;">
                    <!-- 报价单状态 "N003580001": "待询价",
                                    "N003580002": "待报价",
                                    "N003580003": "待确认",
                                    "N003580004": "已完成",
                                    "N003580005": "拼柜中" 
                                    "N003580005": "拼柜完成" -->
                    <el-button type="default" v-if="detail.quotation.status_cd == 'N003580001'" @click="inquiryClick">{{$lang('发起询价')}}</el-button>
                    <el-popover v-if="detail.quotation.status_cd == 'N003580002'" placement="bottom" width="200" v-model="submitSecondConfirmation" trigger="click" :width="360">
                        <div class="submit-confirmation">
                            <div class="submit-confirmation-title">{{$lang('请确认报价输入无误')}}</div>
                            <div>
                                <el-button slot="reference" size="small" type="default" @click="offterClick">{{$lang('确认')}}</el-button>
                                <el-button slot="reference" size="small" type="default" @click="submitSecondConfirmation = false">{{$lang('仍需修改')}}</el-button>
                            </div>
                        </div>
                        <el-button slot="reference" type="default">{{$lang('提交报价')}}</el-button>
                    </el-popover>
                    
                    <el-button type="default" v-if="detail.quotation.status_cd == 'N003580003' && detail.quotation.is_twice_quote == '0'" @click="goBack()">{{$lang('退回上一步')}}</el-button>
                    <el-button type="default" v-if="detail.quotation.status_cd == 'N003580003'" @click="dialogProgramVisible = true">{{$lang('确认报价')}}</el-button>
                    <el-button type="default" v-if="detail.quotation.status_cd == 'N003580003' && detail.quotation.is_twice_quote == '0'" @click="goBack(1)">{{$lang('二次报价')}}</el-button>
                    <el-button type="default" v-if="detail.quotation.status_cd == 'N003580005'" @click="gocombineCabinetsDetail">{{$lang('拼柜中，请前往对应的拼柜单查看详情')}}</el-button>
                    <el-button type="default" v-if="detail.quotation.status_cd == 'N003580006'" @click="gocombineCabinetsDetail">{{$lang('拼柜结束，请前往对应的拼柜单查看详情')}}</el-button>
                </div>
                <el-dialog :title="$lang('请选择报价方案')" center :visible.sync="dialogProgramVisible" width="500px">
                    <el-select filterable v-model="scheme_id" :placeholder="$lang('请选择报价方案')" clearable>
                        <el-option v-for="(item,index) in detail.schemes_options" :key="index" :label="$lang(item.val)" :value="item.scheme_id"></el-option>
                    </el-select>
                    <div slot="footer">
                        <el-button @click="dialogProgramVisible = false">{{$lang('取消')}}</el-button>
                        <el-button type="primary" @click="queryClick">{{$lang('确定')}}</el-button>
                      </div>
                </el-dialog>
            </el-tab-pane>
            <el-tab-pane :label="$lang('操作日志')" name="second">
                <div class="main-basic-info">
                    <div class="header">
                        {{$lang('操作日志')}}
                    </div>
                    <el-table :data="logTable" border>
                        <el-table-column :label="$lang('时间')" align="center" prop="created_at"></el-table-column>
                        <el-table-column :label="$lang('提交人')" align="center" prop="created_by"></el-table-column>
                        <el-table-column :label="$lang('详细信息')" align="center" prop="operation_detail"></el-table-column>
                    </el-table>
                    <div class="page-box">
                        <el-pagination @size-change="logSizeChange" @current-change="logCurrentChange" :current-page="page" :page-sizes="[10, 20, 50, 100]" :page-size="size" layout="total, sizes, prev, pager, next, jumper" :total="logTotal">
                        </el-pagination>
                    </div>
                </div>
            </el-tab-pane>
        </el-tabs>
    </div>
</body>
</html>
<script type="text/javascript" src="./Application/Tpl/Home/Public/lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="./Application/Tpl/Home/Public/js/H-ui.admin.js?v=<{$Think.const.V}>"></script>
<script type="text/javascript" src="./Application/Tpl/Home/Public/js/vue.2.5.13.js?<{$Think.config.VER_NUM}>"></script>
<script type="text/javascript" src="./Application/Tpl/Home/Public/js/axios.min.js"></script>
<script type="text/javascript" src="./Application/Tpl/Home/Public/js/element-ui-2.2.js"></script>
<script type="text/javascript" src="./Application/Tpl/Home/Public/js/element-en.js"></script>
<script type="text/javascript" src="./Application/Tpl/Home/Public/js/queryString.js?v=<{$Think.config.VER_NUM}>"></script>
<script type="text/javascript" src="./Application/Tpl/Home/Quote/quotation_management_detail.js"></script>