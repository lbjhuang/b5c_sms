<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>店铺基础配置</title>
    <link rel="stylesheet" href="../Public/utils/css/public.style.css?v=0907">
    <!-- <link rel="stylesheet" href="../Public/css/element-ui.css?v=<{$tdink.config.VER_NUM}>"> -->
    <link rel="stylesheet" href="./Application/Tpl/Home/Public/css/element-ui-2.2.css?v=<{$Think.const.V}>">
    <link rel="stylesheet" href="../Public/../Hr/depList.css?v=123">
    <link rel="stylesheet" href="../Public/icon/css/font-awesome.min.css">
    <link rel="stylesheet" href="./Application/Tpl/Home/Public/css/default.css?v=<{$Think.const.V}>">
    <style>
        [v-cloak] {
            display: none;
        }

        #detail td {
            /* width: 600px; */
            display: flex;
            align-items: center;
            justify-content: center;
            border-top: none;
            border-left: none;
        }

        /* #detail td span{
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        } */
        .tagUrl{
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        .store_detail {
            margin-left: 30px;
        }

        .store_detail .active {
            opacity: 1;
        }

        .store_detail a {
            cursor: pointer;
            font-weight: bold;
            opacity: 0.5;
            margin-right: 30px;
        }

        table td {
            height: 28px;
        }
        /*  table td{
       background: white;
   }

   table .hascolor {
       background: #f7f9fb;
   } */

        th {
            border-color: rgb(84, 111, 122);
        }

        table i {
            font-style: normal;
            padding-right: 3px;
            color: red;
        }

        .ellipsis {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            cursor: pointer;
            text-align: center;
            max-width: 300px;
            margin: 0 auto;
        }
        .table-list thead{
            display: inline-table;
            width: 100%;
        }
        .table-list,.table-list tbody{
            width: 100%;
            display: block;
        }
        .recruit .table-list tr{
            width: 100%;
            display: flex;
        }
        .recruit .table-list tr th:first-child{
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .recruit .table-list tr td:nth-of-type(odd){
            width: 13%;
            overflow: hidden;
            border-right: 1px solid rgb(202, 222, 231);
        }
        .recruit .table-list tr td:nth-of-type(even){
            width: 20%;
            overflow: hidden;
            border-right: 1px solid rgb(202, 222, 231);
        }
        .recruit .table-list tr:nth-of-type(2n) {
            border: none;
            background: none;
        }
        .hascolor{
            background: rgb(247, 249, 251);
        }
        .table-list tbody tr td:last-child{
            border-right: none !important;
        }
        .table-list tbody tr:last-child td{
            border-bottom: none;
        }
        .scanTime{
            display: flex;
            justify-content: space-between;
            width: 100%;
            align-items: center;
        }
        .scanTime .el-input{
            width: 70%;
            /*margin-right: 20px;*/
        }
    </style>
</head>

<body>
    <div id="detail" v-cloak class="recruit use-btn">
        <input id="store_id" type="hidden" value=<?php echo $id; ?> >
        <div class="store_detail">
            <a class="active">
                <{$Think.lang.基础配置}>
            </a>
            <span v-if="addstore.ID">
                <a onclick="changenewtab(this,'<{$Think.lang.仓库配置}>')" _href="<{:U('store/detail_ware')}>&id=<?php echo $id; ?>">
                    <{$Think.lang.仓库配置}>
                </a>

                <a onclick="changenewtab(this,'<{$Think.lang.物流配置}>')" _href="<{:U('store/detail_logistics')}>&id=<?php echo $id; ?>">
                    <{$Think.lang.物流配置}>
                </a>
                <a onclick="changenewtab(this,'<{$Think.lang.高级配置}>')" _href="<{:U('store/detail_other')}>&id=<?php echo $id; ?>">
                    <{$Think.lang.高级配置}>
                </a>
                <a onclick="changenewtab(this,'<{$Think.lang.财务配置}>')" _href="<{:U('store/detail_finance')}>&id=<?php echo $id; ?>">
                    <{$Think.lang.财务配置}>
                </a>
                <a onclick="changenewtab(this,'<{$Think.lang.走仓推荐}>')" _href="<{:U('store/detail_warehouse_recommended')}>&id=<?php echo $id; ?>">
                    <{$Think.lang.走仓推荐}>
                </a>
                <a onclick="changenewtab(this,'<{$Think.lang.日志信息}>')" _href="<{:U('store/detail_log')}>&id=<?php echo $id; ?>">
                    <{$Think.lang.日志信息}>
                </a>
            </span>
        </div>
        <!-- <div style="width: 100%;text-align: right;">
            <span v-if="isAdd">
                <el-button   type="text" @click="cancelAdd()" style="height: 28px;line-height: 17px;font-size: 13px;margin-left:  46px;" size="small"><{$Think.lang.取消}></el-button>
                <el-button   type="text" @click="save()" style="height: 28px;line-height: 17px;font-size: 13px;margin-left:  10px;" size="small" :disabled="saveReturn"><{$Think.lang.保存}></el-button>
            </span>
            <span v-else>
                <span v-if="isEdit">
                    <el-button   type="text" @click="cancel(addstore.ID)" style="height: 28px;line-height: 17px;font-size: 13px;margin-left: 10px;" size="small"><{$Think.lang.取消}></el-button>
                     <el-button   type="text" @click="save()" style="height: 28px;line-height: 17px;font-size: 13px;" size="small"  :disabled="saveReturn"><{$Think.lang.保存}></el-button>
                </span>
            <span v-else>
                    <el-button class="btn-pub btn-blue" type="primary" @click="edit()" style="height: 28px;line-height: 17px;font-size: 13px;margin-right: 0px;" size="small"><{$Think.lang.编辑}></el-button>
                </span>
            </span>
        </div> -->
        <div style="text-align: right;" v-if="!isAdd && !isEdit">
                <el-button type="primary" @click="onEdit">{{$lang('编辑')}}</el-button>
        </div>
        <div style="width:100%;">
            <el-form :model="addstore" style="margin-top: 50px;">
                <table class="table-list">
                    <thead>
                        <tr>
                            <th style="border-color: rgb(84, 111, 122);" width="13%;">
                                <{$Think.lang.店铺基础配置}>
                            </th>
                            <th width="20%;" style="border-color: rgb(84, 111, 122);"></th>
                            <th width="13%;" style="border-color: rgb(84, 111, 122);"></th>
                            <th width="20%;" style="border-color: rgb(84, 111, 122);"></th>
                            <th width="13%;" style="border-color: rgb(84, 111, 122);"></th>
                            <th width="20%;" style="border-color: rgb(84, 111, 122);"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class=" hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.店铺名}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.STORE_NAME" auto-complete="off" placeholder="<{$Think.lang.请填写店铺名}>"></el-input>
                            </td>
                            <td v-else>{{addstore.STORE_NAME}}</td>

                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.店铺别名}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.MERCHANT_ID" auto-complete="off" placeholder="<{$Think.lang.请填写店铺别名}>"></el-input>
                            </td>
                            <td v-else>{{addstore.MERCHANT_ID}}</td>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.负责人联系方式}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.USER_ID" auto-complete="off" placeholder="<{$Think.lang.请填写负责人联系方式}>"></el-input>
                            </td>
                            <td v-else>{{addstore.USER_ID}}</td>
                        </tr>
                        <tr>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.店铺负责人}>
                            </td>
                            <td v-if="isEdit">
                                <el-select style="width: 100%;" @change="store_byChange" v-model="addstore.shop_manager_id" clearable filterable placeholder="<{$Think.lang.请选择店铺负责人}>" style="width: 150px;">
                                    <el-option
                                        v-for="item in nameList"
                                        :key="item.M_ID"
                                        :label="item.M_NAME"
                                        :value="item.M_ID">
                                    </el-option>
                                </el-select>
                                <!-- <el-input v-model="addstore.store_by" auto-complete="off" placeholder="<{$Think.lang.请填写店铺负责人}>"></el-input> -->
                            </td>
                            <td v-else>{{addstore.store_by}}</td>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.运营类型}>
                            </td>
                            <td v-if="isEdit">
                                <el-select style="width: 100%;" v-model="addstore.OPERATION_TYPE" filterable clearable placeholder="<{$Think.lang.请选择运营类型}>">
                                    <el-option label="B2C" value="0"></el-option>
                                    <el-option label="B2B2C" value="1"></el-option>
                                    <el-option label="B5C" value="2"></el-option>
                                </el-select>
                            </td>
                            <td v-else>
                                <span v-if="addstore.OPERATION_TYPE == 0">B2C</span>
                                <span v-else-if="addstore.OPERATION_TYPE == 1">B2B2C</span>
                                <span v-else="addstore.OPERATION_TYPE == 2">B5C</span>
                            </td>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.店铺状态}>
                            </td>
                            <td v-if="isEdit">
                                <el-select style="width: 100%;" v-model="addstore.STORE_STATUS" filterable clearable placeholder="<{$Think.lang.请选择店铺状态}>">
                                    <el-option label="<{$Think.lang.运营中}>" value="0"></el-option>
                                    <el-option label="<{$Think.lang.未运营}>" value="1"></el-option>
                                </el-select>
                            </td>
                            <td v-else>
                                <span v-if="addstore.STORE_STATUS == 1"><{$Think.lang.未运营}></span>
                                <span v-else><{$Think.lang.运营中}></span>
                            </td>
                        </tr>
                        <tr>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.店铺后台地址}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.STORE_BACKSTAGE_URL" auto-complete="off" placeholder="<{$Think.lang.请填写店铺后台地址}>"></el-input>
                            </td>
                            <td v-else>
                                <el-tooltip placement="top">
                                    <div slot="content"><div style="width: 350px;word-break: break-all;">{{addstore.STORE_BACKSTAGE_URL}}</div><br/><span style="float: right;cursor: pointer;"></span></div>
                                    <div class="tagUrl">
                                        <span>{{addstore.STORE_BACKSTAGE_URL}}</span>
                                    </div>
                                </el-tooltip>
                            </td>

                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.国家}>
                            </td>
                            <td v-if="isEdit">
                                <el-select style="width: 100%;" v-model="addstore.COUNTRY_ID" filterable clearable placeholder="<{$Think.lang.请选择国家}>">
                                    <el-option v-for=" item in COUNTRY" :label="item.zh_name" :value="item.id" :key="item.id"></el-option>
                                </el-select>
                            </td>
                            <td v-else>{{addstore.countryName}}</td>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.店铺链接}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.STORE_INDEX_URL" auto-complete="off" placeholder="<{$Think.lang.请填写店铺链接}>"></el-input>
                            </td>
                            <td v-else>
                                <el-tooltip placement="top">
                                    <div slot="content"><div style="width: 350px;word-break: break-all;">{{addstore.STORE_INDEX_URL}}</div><br/><span style="float: right;cursor: pointer;"></span></div>
                                    <div class="tagUrl">
                                        <span>{{addstore.STORE_INDEX_URL}}</span>
                                    </div>
                                </el-tooltip>
                            </td>
                        </tr>

                        <tr>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.站点}>
                            </td>
                            <td v-if="isEdit">
                                <el-select style="width: 100%;"  @change="PLAT_NAMEChange" v-model="addstore.PLAT_CD" filterable clearable placeholder="<{$Think.lang.请选择站点}>">

                                    <el-option
                                        v-for="item in STORE_PLAT"
                                        :key="item.CD"
                                        :label="item.CD_VAL"
                                        :value="item.CD">
                                    </el-option>

                                    <!-- <el-option v-for=" item in STORE_PLAT" :label="item.CD_VAL" :value="item.CD"></el-option> -->
                                </el-select>
                            </td>
                            <td v-else>{{addstore.PLAT_NAME}}</td>
                            <td class="hascolor">
                                <{$Think.lang.商品主链接}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.PRODUCT_DETAIL_URL_MARK" auto-complete="off" placeholder="<{$Think.lang.请填写商品主链接}>"></el-input>
                            </td>
                            <td v-else>
                                <!-- <el-tooltip class="item" effect="dark" :content=addstore.PRODUCT_DETAIL_URL_MARK placement="top">
                                    <span>{{addstore.PRODUCT_DETAIL_URL_MARK}}</span>
                                </el-tooltip> -->
                                <el-tooltip placement="top">
                                    <div slot="content"><div style="width: 350px;word-break: break-all;">{{addstore.PRODUCT_DETAIL_URL_MARK}}</div><br/><span style="float: right;cursor: pointer;"></span></div>
                                    <div class="tagUrl">
                                        <span>{{addstore.PRODUCT_DETAIL_URL_MARK}}</span>
                                    </div>
                                </el-tooltip>
                            </td>

                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.销售团队}>
                                <span v-if="!isEdit&&!addstore.sell_small_team_cd_val">（全选）</span>
                                <el-button v-if="isEdit" type="text" @click="checkAll">( 全选 )</el-button>
                            </td>
                            <td v-if="isEdit">
                                <el-select style="width: 600px;"  @change="SALE_TEAMChange" v-model="addstore.SALE_TEAM_CD" collapse-tags style="width: 100%;" multiple filterable clearable placeholder="<{$Think.lang.请选择销售团队}>">
                                    <el-option v-for="item in SALE_TEAM" :label="item.CD_VAL" :value="item.CD" :key="item.CD"></el-option>
                                </el-select>
                                <el-select @change="SALE_SMALL_TEAMChange" v-model="addstore.sell_small_team_cd" style="width: 100%;" :disabled="sale_small_team_disabled" filterable clearable placeholder="<{$Think.lang.请选择销售小团队}>">
                                    <el-option v-for="item in SALE_SMALL_TEAM" :label="item.CD_VAL" :value="item.CD" :key="item.CD"></el-option>
                                </el-select>
                            </td>
                            <td v-else>
                                <div v-if="!addstore.sell_small_team_cd_val" class="ellipsis" :title="addstore.saleTeamName">{{addstore.saleTeamName}}</div>
                                <div v-else>
                                    {{addstore.saleTeamName}} > {{addstore.sell_small_team_cd_val}}
                                </div>
                                <!-- <div class="ellipsis" :title="join(addstore.saleTeamName)">{{join(addstore.saleTeamName)}}</div> -->
                            </td>
                        </tr>
                        <tr>
                            <!-- <td>
                                <{$Think.Lang.是否支持预派单}>
                            </td>
                            <td v-if="isEdit">
                                <el-radio v-model="addstore.SEND_ORD_TYPE" label="1">是</el-radio>
                                <el-radio v-model="addstore.SEND_ORD_TYPE" label="0">否</el-radio>
                            </td>
                            <td v-else>
                                <span v-if="addstore.SEND_ORD_TYPE == 1"><{$Think.lang.是}></span>
                                <span v-else><{$Think.lang.否}></span>
                            </td> -->

                            <td class="hascolor">
                                <{$Think.lang.发货系统}>
                            </td>
                            <td v-if="isEdit">
                                <el-select v-model="addstore.DELIVERY_STATUS" style="width: 100%;" filterable clearable placeholder="<{$Think.lang.请选择发货系统}>">
                                    <el-option label="未对接" value="0"></el-option>
                                    <el-option label="对接" value="1"></el-option>
                                </el-select>
                            </td>
                            <td v-else>
                                <span v-if="addstore.DELIVERY_STATUS == 1"><{$Think.lang.对接}></span>
                                <span v-else><{$Think.lang.未对接}></span>
                            </td>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.Lang.是否交VAT}>
                            </td>
                            <td v-if="isEdit">
                                <el-radio v-model="addstore.IS_VAT" label="1">是</el-radio>
                                <el-radio v-model="addstore.IS_VAT" label="0">否</el-radio>
                            </td>
                            <td v-else>
                                <span v-if="addstore.IS_VAT == 1"><{$Think.lang.是}></span>
                                <span v-else><{$Think.lang.否}></span>
                            </td>
                            <td class="hascolor"><i v-if="isEdit && addstore.store_type_cd == 'N003700001'">*</i>
                                <{$Think.lang.注册公司}>
                            </td>
                            <td v-if="isEdit">
                                <el-select v-model="addstore.company_cd" style="width: 100%;" filterable clearable placeholder="<{$Think.lang.请选择注册公司}>">
                                    <el-option v-for="item in ourCompany" :label="item.CD_VAL" :value="item.CD" :key="item.CD"></el-option>
                                </el-select>
                            </td>
                            <td v-else>
                                <div class="ellipsis">{{getVal(ourCompany,addstore.company_cd)}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td class=" hascolor">
                                <{$Think.lang.平台说明}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.plat_explain" auto-complete="off" placeholder="<{$Think.lang.请填写平台说明}>"></el-input>
                            </td>
                            <td v-else>
                                <el-tooltip placement="top">
                                    <div slot="content"><div style="width: 350px;word-break: break-all;">{{addstore.plat_explain}}</div><br/><span style="float: right;cursor: pointer;"></span></div>
                                    <div class="tagUrl">
                                        <span>{{addstore.plat_explain}}</span>
                                    </div>
                                </el-tooltip>
                            </td>
                            <td class=" hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.开店时间}>
                            </td>
                            <td v-if="isEdit">
                                    <el-date-picker
                                    v-model="addstore.up_shop_time"
                                    type="date"
                                    @change="up_shop_timeChange"
                                    value-format="yyyy-MM-dd"
                                    placeholder="选择日期">
                                    </el-date-picker>
                            </td>
                            <td v-else>{{addstore.up_shop_time}}</td>
                            <td class=" hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.店铺账号}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.up_shop_num" auto-complete="off" placeholder="<{$Think.lang.请填写店铺账号}>"></el-input>
                            </td>
                            <td v-else>{{addstore.up_shop_num}}</td>
                        </tr>
                        <tr>
                            <td class=" hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.店铺密码}>
                            </td>
                            <td v-if="isEdit">
                                <el-input type="password" auto-complete="new-password" v-model="addstore.STORE_PWD2" placeholder="<{$Think.lang.请填写店铺密码}>" auto-complete="off" ></el-input>
                            </td>
                            <td v-else>
                                <span v-if="!passwordStatus">*****</span>
                                <span v-if="passwordStatus">{{addstore.STORE_PWD}}</span>
                                <el-button v-if="!passwordStatus" type="primary" @click="decrypt">{{$lang('解密')}}</el-button>
                            </td>
                            <td class=" hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.申请邮箱}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.proposer_email" auto-complete="off" placeholder="<{$Think.lang.请填写申请邮箱}>"></el-input>
                            </td>
                            <td v-else>{{addstore.proposer_email}}</td>
                            <td class=" hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.申请手机号}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.proposer_phone" auto-complete="off" placeholder="<{$Think.lang.请填写申请手机号}>"></el-input>
                            </td>
                            <td v-else>{{addstore.proposer_phone}}</td>
                        </tr>
                        <tr>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.申请人}>
                            </td>
                            <td v-if="isEdit">
                                <el-select style="width: 100%;" v-model="addstore.proposer_by" clearable filterable placeholder="<{$Think.lang.请选择申请人}>" style="width: 150px;">
                                    <el-option v-for="item in nameList" :key="item.M_ID" :label="item.M_NAME" :value="item.M_ID"></el-option>
                                </el-select>
                            </td>
                            <td v-else>{{addstore.proposer_by_name}}</td>
                            <td class=" hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.是否需押金或收取费用}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.is_fee" auto-complete="off" placeholder="<{$Think.lang.请填写是否需押金或收取费用}>"></el-input>
                            </td>
                            <td v-else>{{addstore.is_fee}}</td>
                            <td class=" hascolor">
                                <{$Think.lang.备注}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.remark" auto-complete="off" placeholder="<{$Think.lang.请填写备注}>"></el-input>
                            </td>
                            <td v-else>
                                <el-tooltip placement="top">
                                    <div slot="content"><div style="width: 350px;word-break: break-all;">{{addstore.remark}}</div><br/><span style="float: right;cursor: pointer;"></span></div>
                                    <div class="tagUrl">
                                        <span>{{addstore.remark}}</span>
                                    </div>
                                </el-tooltip>
                            </td>
                        </tr>
                        <tr>
                            <td class=" hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.信用卡绑定情况}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.credit_card_explain" auto-complete="off" placeholder="<{$Think.lang.请填写信用卡绑定情况}>"></el-input>
                            </td>
                            <td v-else>{{addstore.credit_card_explain}}</td>
                            <td class="hascolor">
                                <span v-if="!isEdit"><{$Think.lang.最近确认时间}></span>
                            </td>
                            <td>
                                <span v-if="!isEdit">{{addstore.recently_affirm_time}}</span>
                            </td>
                            <td class="hascolor">
                                <span v-if="!isEdit"><{$Think.lang.交接人}></span>
                            </td>
                            <td>
                                <span v-if="!isEdit">{{addstore.handover_by_name}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td class=" hascolor">
                                <{$Think.lang.赠品产品id}>
                            </td>
                            <td v-if="isEdit">
                                <el-input v-model="addstore.product_id" auto-complete="off" placeholder="<{$Think.lang.请填写赠品产品id}>"></el-input>
                            </td>
                            <td v-else>{{addstore.product_id}}</td>
                            <td class="hascolor"><i v-if="isEdit">*</i>
                                <{$Think.lang.运营后台时间默认时区}>
                            </td>

                            <td><!--:disabled="isEdit && !isAdd"-->
                                <el-select v-if="isEdit || isAdd" style="width: 100%;"  v-model="addstore.default_timezone_cd" clearable filterable placeholder="<{$Think.lang.请选择时区}>" style="width: 150px;">
                                    <el-option v-for="item in allTimeZone" :key="item.CD" :label="item.CD_VAL" :value="item.CD"></el-option>
                                </el-select>
                                <span v-else>{{addstore.default_timezone_cd_val}}</span>
                            </td>
                            <td class="hascolor">
                                <{$Think.lang.扫描时间}>
                            </td>
                            <td>
                                <div v-if="isEdit"  class="scanTime">
                                    <div style="display: flex;justify-content: space-around;align-items: center">
                                        <el-input type="number" min="0" id="scanTime" v-model="addstore.scan_time" auto-complete="off" placeholder="<{$Think.lang.请输入扫描时间}>"></el-input><span><{$Think.lang.天}></span>
                                    </div>
                                  <div style="display: flex;justify-content: space-around;align-items: center">
                                      <el-switch
                                          v-model="addstore.scan_switch"
                                          active-color="#13ce66"
                                          inactive-color="#ff4949">
                                      </el-switch>
                                      <span v-if="addstore.scan_switch" style="margin-left: 20px"><{$Think.lang.开}></span><span style="margin-left: 20px" v-else><{$Think.lang.关}></span>
                                  </div>
                                </div>
                                <span v-if="addstore.scan_time && !isEdit" style="margin-right: 20px">{{addstore.scan_time}} <{$Think.lang.天}></span>
                                <el-switch
                                    v-if="!isEdit"
                                    :disabled="true"
                                    v-model="addstore.scan_switch"
                                    active-color="#13ce66"
                                    inactive-color="#ff4949">
                                </el-switch>
                            </td>
                        </tr>


                        <tr>
                            <td class="hascolor">
                                <i v-if="isEdit">*</i>
                                {{$lang('店铺类型')}}
                            </td>
                            <td>
                                <el-select v-if="isEdit" style="width: 100%;" v-model="addstore.store_type_cd" clearable filterable :placeholder="$lang('请选择店铺类型')">
                                    <el-option v-for="item in store_type" :key="item.CD" :label="$lang(item.CD_VAL)" :value="item.CD"></el-option>
                                </el-select>
                                <div v-else>
                                    {{addstore.store_type_cd_val}}
                                </div>
                            </td>
                            <td class="hascolor">
                                <i v-if="isEdit && addstore.store_type_cd == 'N003700002'">*</i>
                                {{$lang('实际运营方店铺ID')}}
                            </td>
                            <td>
                                <el-input :disabled="addstore.store_type_cd !== 'N003700002'" v-if="isEdit" v-model="addstore.reality_opt_store_id" type="number" auto-complete="off" :placeholder="$lang('实际运营方店铺ID')"></el-input>
                                <div v-else>
                                    {{addstore.reality_opt_store_id}}
                                </div>
                            </td>
                            <td class="hascolor">
                                <i v-if="isEdit && addstore.store_type_cd == 'N003700002'">*</i>
                                {{$lang('合作方公司名称')}}
                            </td>
                            <td>
                                <el-select :disabled="addstore.store_type_cd !== 'N003700002'" v-if="isEdit" style="width: 100%;" v-model="addstore.supplier_id" clearable filterable :placeholder="$lang('请选择合作方公司')">
                                    <el-option v-for="item in supplier" :key="item.supplier_id" :label="$lang(item.supplier_name)" :value="item.supplier_id"></el-option>
                                </el-select>
                                <div v-else>
                                    {{addstore.supplier_id_val}}
                                </div>
                            </td>
                        </tr>
                       
                    </tbody>
                </table>
            </el-form>

            <!-- 提交 -->
            <div style="width: 100%;text-align: center;margin-top: 20px;">
                <span v-if="isAdd">
                    <el-button type="primary" @click="save" :loading="saveLoading">{{$lang('保存')}}</el-button>
                </span>
                <span v-else>
                    <span v-if="isEdit">
                            <el-button type="primary" @click="save" :loading="saveLoading">{{$lang('保存')}}</el-button>
                            <el-button @click="onClose">{{$lang('取消')}}</el-button>
                    </span>
                    <span v-else>
                        <el-button v-if="addstore.is_show_button" type="primary" @click="sureBtn">{{$lang('本人确认以上信息（包括密码）准确无误，且已更新到最新状态')}}</el-button>
                    </span>
                </span>
            </div>
        </div>
    </div>
    <!--引入js-->
    <script type="text/javascript" src="../Public/lib/jquery/1.9.1/jquery.min.js?v=<{$tdink.config.VER_NUM}>"></script>
    <script type="text/javascript" src="../Public/js/H-ui.js"></script>
    <script type="text/javascript" src="../Public/js/H-ui.admin.js?<{$Think.config.VER_NUM}>"></script>
    <!-- <script type="text/javascript" src="../Public/js/vue-2.4.2.js?v=<{$tdink.config.VER_NUM}>"></script> -->
    <!-- <script type="text/javascript" src="../Public/js/axios.min.js?v=<{$tdink.config.VER_NUM}>"></script> -->
    <!-- <script type="text/javascript" src="../Public/js/element-ui.js?v=<{$tdink.config.VER_NUM}>"></script> -->
    <script type="text/javascript" src="./Application/Tpl/Home/Public/js/vue.2.5.13.js?<{$Think.config.VER_NUM}>"></script>
    <script type="text/javascript" src="./Application/Tpl/Home/Public/js/axios.min.js"></script>
    <script type="text/javascript" src="./Application/Tpl/Home/Public/js/element-ui-2.2.js"></script>
    <script type="text/javascript">
        var detail = new Vue({
            el: '#detail',
            data: {
                store_type: [],
                supplier: [],
                saveReturn:false,
                id: '',
                //新增店铺开关
                isEdit: false,
                isAdd: false,
                //修改店铺
                addstore: {
                    ID: '', //store id
                    STORE_NAME: '',//店铺名称
                    PLAT_CD: '', //平台站点编码
                    PLAT_NAME:'',//平台站点
                    SALE_TEAM_CD: [], //销售团队code
                    sell_small_team_cd: '', //销售小团队code
                    USER_ID: '',//负责人联系方式
                    store_by: '',//店铺负责人
                    shop_manager_id:'',//店铺负责人ID
                    PROXY: '', //代理地址
                    ORDER_SWITCH:'',//goods/services
                    ORDER_SWITCH: false, //拉单开关
                    COUNTRY_ID: '', //国家id
                    STORE_BACKSTAGE_URL: '', //店铺后台地址
                    STORE_INDEX_URL: '', //店铺主页地址
                    MERCHANT_ID: '', //店铺别名
                    PRODUCT_DETAIL_URL_MARK: '', //商品主链接
                    STORE_STATUS: '',//店铺状态- 0:运营中,1:未运营
                    OPERATION_TYPE: '',//运营类型- 0:B2C, 1:B2B2C,2:B5C
                    saleTeamName: '', //中文销售团队
                    sell_small_team_cd_val: '', //销售小团队
                    countryName: '', //中文国家
                    SEND_ORD_TYPE: false,//是否预派单;1-是;0-否;
                    IS_VAT: '1',
                    ourCompany: '',
                    plat_explain:'',//平台说明
                    up_shop_time:'',//	开店时间
                    up_shop_num:'',//	开店账号
                    STORE_PWD:'',//店铺密码
                    STORE_PWD2:'',//店铺密码
                    up_shop_pass:'',//	开店密码
                    proposer_email:'',//申请邮箱
                    proposer_phone:'',//申请手机号码
                    proposer_by:'',//申请人 ID
                    is_fee:'',//是否需押金或收取费用
                    remark:'',//备注
                    credit_card_explain:'',//信用卡绑定情况
                    company_cd:'',//注册公司
                    product_id: '', // 赠品产品id
                    store_type_cd: '', // 店铺类型
                    reality_opt_store_id: '', // 实际运营店铺ID
                    supplier_id: '', // 合作方公司名称（客户ID）
                },
                SALE_SMALL_TEAM:[],
                STORE_PLAT: [], //所有平台数据
                SALE_TEAM: [], //所有销售团队
                COUNTRY: [], //国家
                ourCompany: [], //我方公司
                operation: '',
                isclick: false,
                wareCount: 100,
                passwordStatus:false,
                is_show_button:false,
                nameList:[],
                isSellSmallTeam:true,
                sale_small_team_disabled:false,
                form: {
                    SEARCH_VAL: '',
                    SEARCH_TYPE: '',
                    COUNTRY: '',
                    STORE_PLAT: '', //平台编码
                    SALE_TEAM: '', //销售团队编码
                    STATUS: '', //授权状态
                },
                allTimeZone:[],
                saveLoading: false,
                join: function(arr) {
                    return (arr || []).join();
                },
                getVal: function(data, cd) {
                    var val = data.filter(function(item) {
                        return item.CD == cd
                    })[0];
                    return val ? val.CD_VAL : '';
                },
            },

            created: function() {
                console.log(window.location.href);

                this.search();
                this.dataInit();
                this.getAllTimeZone();
                this.getOurCompany();
                this.getCommonmCd();
            },
            mounted(){

            },
            methods: {
                getCommonmCd() {
                    let param = {
                        "cd_type": {
                            "store_type": "false", //false仅查启用的（保存信息时用）
                        }
                    }
                    axios.post('/index.php?g=common&m=index&a=get_cd',param).then(res => {
                        if (res.data.code === 2000) {
                            this.store_type = res.data.data.store_type;
                        } else {
                            this.$message.error(this.$lang(res.data.msg));
                        }
                    })

                    let params = {
                        "search":{
                            "supplier_name":""
                        }
                    }
                    axios.post('/index.php?m=order_detail&a=searchSuppliers',params).then(res => {
                        if (res.data.code === 200) {
                            this.supplier = res.data.data;
                        } else {
                            this.$message.error(this.$lang(res.data.msg));
                        }
                    })
                },
                getOurCompany() {
                    var _this = this;
                    axios.post('/index.php?g=common&m=index&a=get_our_company').then(function(res) {
                        if (res.data.code === 2000) {
                            detail.ourCompany = res.data.data;
                        } else {
                            _this.$message.error(this.$lang(res.data.msg));
                        }
                    })
                },
                search: function(id) {
                    axios.post("/index.php?m=api&a=choice")
                        .then(function(res) {
                            if (res) {
                                detail.STORE_PLAT = res.data[0].storePlat;
                                detail.SALE_TEAM = res.data[0].saleTeam;
                                detail.COUNTRY = res.data[0].countryData;
                            }
                        })
                    var id = $("#store_id").val();
                    if (id) {
                        this.isAdd = false;
                        axios.post("/index.php?m=api&a=store_getStore&id=" + id)
                            .then(function(res) {

                                if (res.data.code === 200) {
                                    var _this = this
                                    // console.log(this);
                                    console.log(detail);
                                    var data = res.data.data;
                                    detail.addstore = res.data.data;

                                    detail.addstore.scan_switch  = data.scan_switch==="1"?true:false;
                                    var sale_team = detail.addstore.SALE_TEAM_CD

                                    if(detail.addstore.sell_small_team_cd_val){
                                        // 有小团队
                                        detail.addstore.SALE_TEAM_CD = detail.addstore.SALE_TEAM_CD.split(',')
                                        detail.sale_small_team_disabled = false
                                        detail.getSellSmallTeame(sale_team)
                                    }else{
                                        detail.addstore.SALE_TEAM_CD = detail.addstore.SALE_TEAM_CD.split(',')
                                        detail.sale_small_team_disabled = true
                                    }

                                    var countryId = detail.addstore.COUNTRY_ID;
                                } else {
                                    detail.addstore = {};
                                    detail.$message.warning(res.data.msg);
                                }
                            })
                    } else {
                        this.isEdit = true;
                        this.isAdd = true;
                    }
                },
                onEdit(){
                  this.isEdit=!this.isEdit;
                    this.$nextTick(()=>{
                        document.getElementById("scanTime").addEventListener("keypress",(event)=>{
                            if(event.keyCode == 45){
                                event.preventDefault();
                            }
                        });
                    })
                },
                getAllTimeZone(){
                    console.log("执行了");
                    axios.post("/index.php?m=api&a=choice").then((res) =>{
                        console.log("获取的时区",res.data);
                        this.allTimeZone  = res.data[0].defaultTimezone;
                    })
                },
                dataInit:function(){
                    var _this = this
                    axios.post("/index.php?m=api&a=store_getUserData").then(function(res) {
                        if (res.data.code == 200) {
                            _this.nameList = res.data.data
                        }
                    })
                },
                checkAll: function() {
                    var arr = [];
                    this.SALE_TEAM.forEach(function(item) {
                        arr.push(item.CD);
                    })
                    this.addstore.SALE_TEAM_CD = arr;
                    this.sale_small_team_disabled = true
                    this.addstore.sell_small_team_cd = ''

                },
                //page
                handleCurrentChange: function(currentPage) {
                    this.page.sePage = currentPage;
                    this.search();
                },
                store_byChange:function(val){
                    this.addstore.store_by = val
                },
                PLAT_NAMEChange:function(val){
                    console.log(val);
                    var _this = this

                    _this.addstore.PLAT_NAME = val

                },
                getSellSmallTeame:function(val){
                    axios.post("/index.php?m=api&a=store_getSellSmallTeame",{
                        code:val
                    }).then(function(res) {
                        if(res.data.data){
                            detail.SALE_SMALL_TEAM = res.data.data
                            detail.sale_small_team_disabled = false
                        }else{
                            detail.SALE_SMALL_TEAM = []
                            detail.sale_small_team_disabled = true
                        }
                    })
                },
                SALE_TEAMChange:function(val){
                    if(val.length == 1){
                        this.getSellSmallTeame(val);
                        this.sale_small_team_disabled = false
                    }else{
                        console.log("选择多个大团队");
                        this.sale_small_team_disabled = true
                        this.SALE_SMALL_TEAM = []
                        this.addstore.sell_small_team_cd = ''
                    }
                },
                SALE_SMALL_TEAMChange:function(val){
                    this.$forceUpdate()
                },

                //提交新增店铺信息
                save: function() {
                    var _this = this




                    if (this.addstore.STORE_NAME == '') {
                        detail.$message.warning('<{$Think.lang.请填写店铺名}>');
                        return false;
                    }
                    if (this.addstore.MERCHANT_ID == '') {
                        detail.$message.warning('<{$Think.lang.请填写店铺别名}>');
                        return false;
                    }
                    if (this.addstore.USER_ID == '') {
                        detail.$message.warning('<{$Think.lang.请填写负责人联系方式}>');
                        return false;
                    }
                    if (this.addstore.shop_manager_id == '') {
                        detail.$message.warning('<{$Think.lang.请填写店铺负责人}>');
                        return false;
                    }
                    if (this.addstore.OPERATION_TYPE == '') {
                        detail.$message.warning('<{$Think.lang.请填写运营类型}>');
                        return false;
                    }
                    if (this.addstore.STORE_STATUS == '') {
                        detail.$message.warning('<{$Think.lang.请填写店铺状态}>');
                        return false;
                    }
                    if (this.addstore.STORE_BACKSTAGE_URL == '') {
                        detail.$message.warning('<{$Think.lang.请填写店铺后台地址}>');
                        return false;
                    }
                    if (this.addstore.COUNTRY_ID == '') {
                        detail.$message.warning('<{$Think.lang.请选择国家}>');
                        return false;
                    }
                    if (this.addstore.STORE_INDEX_URL == '') {
                        detail.$message.warning('<{$Think.lang.请填写店铺链接}>');
                        return false;
                    }
                    if (this.addstore.PLAT_CD == '') {
                        detail.$message.warning('<{$Think.lang.请选择站点}>');
                        return false;
                    }
                    if (!this.addstore.SALE_TEAM_CD.length) {
                        detail.$message.warning('<{$Think.lang.请选择销售团队}>');
                        return false;
                    }
                    if(!this.addstore.sell_small_team_cd && this.sale_small_team_disabled == false){
                        detail.$message.warning('<{$Think.lang.请选择销售小团队}>');
                        return false;
                    }
                    if (this.addstore.IS_VAT == '') {
                        detail.$message.warning('<{$Think.lang.请选择是否交VAT}>');
                        return false;
                    }
                    if (this.addstore.company_cd == '' && this.addstore.store_type_cd == 'N003700001') {
                        detail.$message.warning('<{$Think.lang.请选择注册公司}>');
                        return false;
                    }
                    if (this.addstore.up_shop_time == '') {
                        detail.$message.warning('<{$Think.lang.请选择开店时间}>');
                        return false;
                    }
                    if (this.addstore.up_shop_num == '') {
                        detail.$message.warning('<{$Think.lang.请填写店铺账号}>');
                        return false;
                    }
                    // if (this.addstore.STORE_PWD2 == '') {
                    //     detail.$message.warning('<{$Think.lang.请填写店铺密码}>');
                    //     return false;
                    // }
                    if (this.addstore.proposer_email == '') {
                        detail.$message.warning('<{$Think.lang.请填写申请邮箱}>');
                        return false;
                    }
                    if (this.addstore.proposer_phone == '') {
                        detail.$message.warning('<{$Think.lang.请填写申请手机号}>');
                        return false;
                    }
                    if (this.addstore.proposer_by == '') {
                        detail.$message.warning('<{$Think.lang.请填写申请人}>');
                        return false;
                    }
                    if (this.addstore.is_fee == '') {
                        detail.$message.warning('<{$Think.lang.请填写是否需押金或收取费用}>');
                        return false;
                    }
                    if (this.addstore.credit_card_explain == '') {
                        detail.$message.warning('<{$Think.lang.请填写信用卡绑定情况}>');
                        return false;
                    }
                    if (this.addstore.default_timezone_cd == '') {
                        detail.$message.warning('<{$Think.lang.请填写运营后台时间默认时区}>');
                        return false;
                    }

                    
                    if (this.addstore.store_type_cd == '') {
                        detail.$message.warning('<{$Think.lang.请选择店铺类型}>');
                        return false;
                    }
                    if (this.addstore.store_type_cd  == 'N003700002' && this.addstore.reality_opt_store_id == '') {
                        detail.$message.warning('<{$Think.lang.请填写实际运营店铺ID}>');
                        return false;
                    }
                    if (this.addstore.store_type_cd  == 'N003700002' && this.addstore.reality_opt_store_id !== '' && this.addstore.reality_opt_store_id <= 0) {
                        detail.$message.warning('<{$Think.lang.实际运营店铺ID必须为大于0的正数}>');
                        return false;
                    }
                    if (this.addstore.store_type_cd  == 'N003700002' && this.addstore.supplier_id == '') {
                        detail.$message.warning('<{$Think.lang.请选择合作方公司名称}>');
                        return false;
                    }
                    console.log("扫描时间",this.addstore.scan_time);
                    // if (!this.addstore.scan_time) {
                    //     detail.$message.warning('<{$Think.lang.请输入扫描时间}>');
                    //     return false;
                    // }
                    let reg = /^[+]{0,1}(\d+)$/;
                    if(!reg.test(this.addstore.scan_time) && this.addstore.scan_time){
                        detail.$message.warning('<{$Think.lang.扫描时间只能为正整数}>');
                        return false;
                    }


                    this.saveReturn = true;
                    setTimeout(function(){
                        _this.saveReturn = false
                    },2000)
                    let scan_switch =  _this.addstore.scan_switch?"1":"0"
                    var params = {
                        "ID":_this.addstore.ID,
                        "STORE_NAME":_this.addstore.STORE_NAME,
                        "STORE_PWD":_this.addstore.STORE_PWD2,
                        "PLAT_CD":_this.addstore.PLAT_CD,
                        "SALE_TEAM_CD":_this.addstore.SALE_TEAM_CD.toString(),
                        "sell_small_team_cd":_this.addstore.sell_small_team_cd,
                        "IS_VAT":_this.addstore.IS_VAT,
                        "company_cd":_this.addstore.company_cd,
                        "USER_ID":_this.addstore.USER_ID,
                        "PROXY":_this.addstore.PROXY,
                        "ORDER_SWITCH":_this.addstore.ORDER_SWITCH,
                        "COUNTRY_ID":_this.addstore.COUNTRY_ID,
                        "STORE_BACKSTAGE_URL":_this.addstore.STORE_BACKSTAGE_URL,
                        "STORE_INDEX_URL":_this.addstore.STORE_INDEX_URL,
                        "MERCHANT_ID":_this.addstore.MERCHANT_ID,
                        "PRODUCT_DETAIL_URL_MARK":_this.addstore.PRODUCT_DETAIL_URL_MARK,
                        "STORE_STATUS":_this.addstore.STORE_STATUS,
                        "OPERATION_TYPE":_this.addstore.OPERATION_TYPE,
                        // "SEND_ORD_TYPE":_this.addstore.SEND_ORD_TYPE,//已注释
                        "store_by":_this.addstore.shop_manager_id,
                        "plat_explain":_this.addstore.plat_explain,
                        "up_shop_time":_this.addstore.up_shop_time,
                        "up_shop_num":_this.addstore.up_shop_num,
                        "proposer_email":_this.addstore.proposer_email,
                        "proposer_phone":_this.addstore.proposer_phone,
                        "proposer_by":_this.addstore.proposer_by,
                        "is_fee":_this.addstore.is_fee,
                        "remark":_this.addstore.remark,
                        "credit_card_explain":_this.addstore.credit_card_explain,
                        "shop_manager_id":_this.addstore.shop_manager_id,
                        "PLAT_NAME":_this.addstore.PLAT_CD,
                        "DELIVERY_STATUS":_this.addstore.DELIVERY_STATUS,
                        "product_id": _this.addstore.product_id,
                        "default_timezone_cd": _this.addstore.default_timezone_cd,
                        "scan_time": _this.addstore.scan_time,
                        "scan_switch": scan_switch,
                        "store_type_cd": _this.addstore.store_type_cd,
                        "reality_opt_store_id": _this.addstore.reality_opt_store_id,
                        "supplier_id": _this.addstore.supplier_id,
                    }


                    _this.saveLoading = true;
                    axios.post("/index.php?m=api&a=store_subStore",params).then(function(res) {
                            if (res.data.code === 200) {
                                console.log(res);

                                var id = res.data.data.id;
                                detail.$message({
                                    message: "<{$Think.lang.添加成功}>",
                                    type: 'success'
                                });
                                setTimeout(() => {

                                    location.href = "/index.php?m=store&a=detail&id=" + id;

                                }, 1000);
                                setTimeout(() => {
                                  _this.saveLoading = false;

                                }, 5000);
                            } else if (res.data.code === 20001) {
                                var id = res.data.msg;
                                detail.$message({
                                    message: "<{$Think.lang.修改成功}>",
                                    type: 'success'
                                });
                                setTimeout(() => {
                                    location.href = "/index.php?m=store&a=detail&id=" + id;
                                }, 1000);
                              setTimeout(() => {
                                _this.saveLoading = false;

                              }, 5000);
                            } else {
                                detail.$message.warning(res.data.msg);
                              _this.saveLoading = false;
                            }

                    })
                },

                changeStore: function(id) {
                    var route = document.createElement("a");
                    route.setAttribute("style", "display: none");
                    route.setAttribute("onclick", "opennewtab(this,'<{$Think.lang.店铺详情}>')");
                    route.setAttribute("_href", '/index.php?m=store&a=detail');
                    route.click();

                },
                cancel: function(id) {

                    location.href = "/index.php?m=store&a=detail&id=" + id;
                },
                edit: function() {
                    this.isEdit = !this.isEdit;
                    this.addstore.STORE_PWD2 = '*****'

                    // 站点
                    var PLAT_CD = this.addstore.PLAT_CD
                    var STOREPLAT = this.STORE_PLAT
                    var result =  STOREPLAT.find((item) => item.CD == PLAT_CD)
                    var result_val = result.CD_VAL

                    // if(result_val.indexOf("Gshopper") != '-1'){
                    //     // 平台=Gshopper
                    //     this.isGshopper = true
                    // }else{
                    //     this.isGshopper = false
                    // }

                },
                onClose(){
                  this.isEdit = false;
                  this.search()
                },
                cancelAdd: function() {
                    window.location = "/index.php?m=store&a=index";
                },
                decrypt:function(){
                    var _this = this
                    axios.post("index.php?m=api&a=store_decode",{"id":this.addstore.ID}).then(function(res) {

                        console.log(res.data.data.STORE_PWD);
                        console.log(_this.addstore);

                        if(res.data.code == 200){
                            _this.addstore.STORE_PWD = res.data.data.STORE_PWD
                            _this.addstore.STORE_PWD2 = _this.addstore.STORE_PWD
                            _this.passwordStatus = true
                        }else{
                            detail.$message.warning(res.data.msg);
                        }

                    })
                },
                up_shop_timeChange:function(val){
                    console.log(val);
                    this.up_shop_time = val
                },
                sureBtn:function(){
                    var _this = this
                    axios.post("index.php?m=api&a=store_affirm",{"id":this.addstore.ID}).then(function(res) {
                        if(res.data.code == 200){
                            detail.$message({
                                message: "<{$Think.lang.确认成功}>",
                                type: 'success'
                            });
                            setTimeout(() => {
                                _this.search();
                            }, 1000);
                        }else{
                            detail.$message.warning(res.data.msg);
                        }
                    })
                }
            },
        })
    </script>
</body>

</html>